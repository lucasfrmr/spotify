doctype html
html(lang="en")
    head
        title Playlist Manager
        meta(charset='UTF-8')
        meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
        link(rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css')
        script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js")
        script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js")
        script.
        style.
        body
                h1 Upload Playlist
                form(method="post" action="/playlist")
                    label(for="playlist") Playlist ID:
                    input(type="text" name="playlist" id="playlist" placeholder="Enter playlist ID")
                    button(type="submit" onclick="fetchData(event)") Upload Playlist

                table(id="playlistTable")
                    thead
                        tr
                            th Track Name
                            th Artist
                            th Album

                    tbody
                        // Data will be dynamically added here

                script.
                    function fetchData(event) {
                        event.preventDefault();
                        const playlistId = document.getElementById("playlist").value;
                        fetch(`/api/playlist/${playlistId}`)
                            .then(response => response.json())
                            .then(data => {
                                const tableBody = document.getElementById("playlistTable").getElementsByTagName("tbody")[0];
                                tableBody.innerHTML = "";
                                data.items.forEach(item => {
                                    const row = document.createElement("tr");
                                    const trackName = document.createElement("td");
                                    const artist = document.createElement("td");
                                    const album = document.createElement("td");

                                    trackName.textContent = item.trackName;
                                    artist.textContent = item.artist;
                                    album.textContent = item.album;

                                    row.appendChild(trackName);
                                    row.appendChild(artist);
                                    row.appendChild(album);

                                    tableBody.appendChild(row);
                                });
                            })
                            .catch(error => console.error(error));
                    }
                //receive data.items playlistdata from websockets
                //create table with data.items
                //create table headers
                
